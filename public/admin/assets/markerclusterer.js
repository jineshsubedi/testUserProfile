var markerClusterer=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=i(t);if(e){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return a(this,r)}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d=function(t){return t&&t.Math==Math&&t},m=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof p&&p)||function(){return this}()||Function("return this")(),g={},v=function(t){try{return!!t()}catch(t){return!0}},y=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=Function.prototype.call,_=b.bind?b.bind(b):function(){return b.apply(b,arguments)},w={},x={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,M=k&&!x.call({1:2},1);w.f=M?function(t){var e=k(this,t);return!!e&&e.enumerable}:x;var O,P,S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=Function.prototype,C=E.bind,j=E.call,L=C&&C.bind(j,j),A=C?function(t){return t&&L(t)}:function(t){return t&&function(){return j.apply(t,arguments)}},T=A,I=T({}.toString),N=T("".slice),D=function(t){return N(I(t),8,-1)},F=A,z=v,R=D,q=m.Object,Z=F("".split),G=z((function(){return!q("z").propertyIsEnumerable(0)}))?function(t){return"String"==R(t)?Z(t,""):q(t)}:q,B=m.TypeError,V=function(t){if(null==t)throw B("Can't call method on "+t);return t},U=G,W=V,Q=function(t){return U(W(t))},X=function(t){return"function"==typeof t},H=X,J=function(t){return"object"==typeof t?null!==t:H(t)},K=m,$=X,Y=function(t){return $(t)?t:void 0},tt=function(t,e){return arguments.length<2?Y(K[t]):K[t]&&K[t][e]},et=A({}.isPrototypeOf),rt=m,nt=tt("navigator","userAgent")||"",ot=rt.process,it=rt.Deno,st=ot&&ot.versions||it&&it.version,at=st&&st.v8;at&&(P=(O=at.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!P&&nt&&(!(O=nt.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=nt.match(/Chrome\/(\d+)/))&&(P=+O[1]);var ut=P,ct=ut,ft=v,lt=!!Object.getOwnPropertySymbols&&!ft((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ct&&ct<41})),ht=lt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,pt=tt,dt=X,mt=et,gt=ht,vt=m.Object,yt=gt?function(t){return"symbol"==typeof t}:function(t){var e=pt("Symbol");return dt(e)&&mt(e.prototype,vt(t))},bt=m.String,_t=X,wt=function(t){try{return bt(t)}catch(t){return"Object"}},xt=m.TypeError,kt=function(t){if(_t(t))return t;throw xt(wt(t)+" is not a function")},Mt=kt,Ot=_,Pt=X,St=J,Et=m.TypeError,Ct={exports:{}},jt=m,Lt=Object.defineProperty,At=function(t,e){try{Lt(jt,t,{value:e,configurable:!0,writable:!0})}catch(r){jt[t]=e}return e},Tt=At,It="__core-js_shared__",Nt=m[It]||Tt(It,{}),Dt=Nt;(Ct.exports=function(t,e){return Dt[t]||(Dt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.2",mode:"global",copyright:"Â© 2022 Denis Pushkarev (zloirock.ru)"});var Ft=V,zt=m.Object,Rt=function(t){return zt(Ft(t))},qt=Rt,Zt=A({}.hasOwnProperty),Gt=Object.hasOwn||function(t,e){return Zt(qt(t),e)},Bt=A,Vt=0,Ut=Math.random(),Wt=Bt(1..toString),Qt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Wt(++Vt+Ut,36)},Xt=m,Ht=Ct.exports,Jt=Gt,Kt=Qt,$t=lt,Yt=ht,te=Ht("wks"),ee=Xt.Symbol,re=ee&&ee.for,ne=Yt?ee:ee&&ee.withoutSetter||Kt,oe=function(t){if(!Jt(te,t)||!$t&&"string"!=typeof te[t]){var e="Symbol."+t;$t&&Jt(ee,t)?te[t]=ee[t]:te[t]=Yt&&re?re(e):ne(e)}return te[t]},ie=_,se=J,ae=yt,ue=function(t,e){var r=t[e];return null==r?void 0:Mt(r)},ce=function(t,e){var r,n;if("string"===e&&Pt(r=t.toString)&&!St(n=Ot(r,t)))return n;if(Pt(r=t.valueOf)&&!St(n=Ot(r,t)))return n;if("string"!==e&&Pt(r=t.toString)&&!St(n=Ot(r,t)))return n;throw Et("Can't convert object to primitive value")},fe=oe,le=m.TypeError,he=fe("toPrimitive"),pe=function(t,e){if(!se(t)||ae(t))return t;var r,n=ue(t,he);if(n){if(void 0===e&&(e="default"),r=ie(n,t,e),!se(r)||ae(r))return r;throw le("Can't convert object to primitive value")}return void 0===e&&(e="number"),ce(t,e)},de=pe,me=yt,ge=function(t){var e=de(t,"string");return me(e)?e:e+""},ve=J,ye=m.document,be=ve(ye)&&ve(ye.createElement),_e=function(t){return be?ye.createElement(t):{}},we=_e,xe=!y&&!v((function(){return 7!=Object.defineProperty(we("div"),"a",{get:function(){return 7}}).a})),ke=y,Me=_,Oe=w,Pe=S,Se=Q,Ee=ge,Ce=Gt,je=xe,Le=Object.getOwnPropertyDescriptor;g.f=ke?Le:function(t,e){if(t=Se(t),e=Ee(e),je)try{return Le(t,e)}catch(t){}if(Ce(t,e))return Pe(!Me(Oe.f,t,e),t[e])};var Ae={},Te=y&&v((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ie=m,Ne=J,De=Ie.String,Fe=Ie.TypeError,ze=function(t){if(Ne(t))return t;throw Fe(De(t)+" is not an object")},Re=y,qe=xe,Ze=Te,Ge=ze,Be=ge,Ve=m.TypeError,Ue=Object.defineProperty,We=Object.getOwnPropertyDescriptor,Qe="enumerable",Xe="configurable",He="writable";Ae.f=Re?Ze?function(t,e,r){if(Ge(t),e=Be(e),Ge(r),"function"==typeof t&&"prototype"===e&&"value"in r&&He in r&&!r.writable){var n=We(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:Xe in r?r.configurable:n.configurable,enumerable:Qe in r?r.enumerable:n.enumerable,writable:!1})}return Ue(t,e,r)}:Ue:function(t,e,r){if(Ge(t),e=Be(e),Ge(r),qe)try{return Ue(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Ve("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var Je=Ae,Ke=S,$e=y?function(t,e,r){return Je.f(t,e,Ke(1,r))}:function(t,e,r){return t[e]=r,t},Ye={exports:{}},tr=X,er=Nt,rr=A(Function.toString);tr(er.inspectSource)||(er.inspectSource=function(t){return rr(t)});var nr,or,ir,sr=er.inspectSource,ar=X,ur=sr,cr=m.WeakMap,fr=ar(cr)&&/native code/.test(ur(cr)),lr=Ct.exports,hr=Qt,pr=lr("keys"),dr=function(t){return pr[t]||(pr[t]=hr(t))},mr={},gr=fr,vr=m,yr=A,br=J,_r=$e,wr=Gt,xr=Nt,kr=dr,Mr=mr,Or="Object already initialized",Pr=vr.TypeError,Sr=vr.WeakMap;if(gr||xr.state){var Er=xr.state||(xr.state=new Sr),Cr=yr(Er.get),jr=yr(Er.has),Lr=yr(Er.set);nr=function(t,e){if(jr(Er,t))throw new Pr(Or);return e.facade=t,Lr(Er,t,e),e},or=function(t){return Cr(Er,t)||{}},ir=function(t){return jr(Er,t)}}else{var Ar=kr("state");Mr[Ar]=!0,nr=function(t,e){if(wr(t,Ar))throw new Pr(Or);return e.facade=t,_r(t,Ar,e),e},or=function(t){return wr(t,Ar)?t[Ar]:{}},ir=function(t){return wr(t,Ar)}}var Tr={set:nr,get:or,has:ir,enforce:function(t){return ir(t)?or(t):nr(t,{})},getterFor:function(t){return function(e){var r;if(!br(e)||(r=or(e)).type!==t)throw Pr("Incompatible receiver, "+t+" required");return r}}},Ir=y,Nr=Gt,Dr=Function.prototype,Fr=Ir&&Object.getOwnPropertyDescriptor,zr=Nr(Dr,"name"),Rr=zr&&"something"===function(){}.name,qr=zr&&(!Ir||Ir&&Fr(Dr,"name").configurable),Zr=m,Gr=X,Br=Gt,Vr=$e,Ur=At,Wr=sr,Qr={EXISTS:zr,PROPER:Rr,CONFIGURABLE:qr}.CONFIGURABLE,Xr=Tr.get,Hr=Tr.enforce,Jr=String(String).split("String");(Ye.exports=function(t,e,r,n){var o,i=!!n&&!!n.unsafe,s=!!n&&!!n.enumerable,a=!!n&&!!n.noTargetGet,u=n&&void 0!==n.name?n.name:e;Gr(r)&&("Symbol("===String(u).slice(0,7)&&(u="["+String(u).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Br(r,"name")||Qr&&r.name!==u)&&Vr(r,"name",u),(o=Hr(r)).source||(o.source=Jr.join("string"==typeof u?u:""))),t!==Zr?(i?!a&&t[e]&&(s=!0):delete t[e],s?t[e]=r:Vr(t,e,r)):s?t[e]=r:Ur(e,r)})(Function.prototype,"toString",(function(){return Gr(this)&&Xr(this).source||Wr(this)}));var Kr={},$r=Math.ceil,Yr=Math.floor,tn=function(t){var e=+t;return e!=e||0===e?0:(e>0?Yr:$r)(e)},en=tn,rn=Math.max,nn=Math.min,on=function(t,e){var r=en(t);return r<0?rn(r+e,0):nn(r,e)},sn=tn,an=Math.min,un=function(t){return t>0?an(sn(t),9007199254740991):0},cn=function(t){return un(t.length)},fn=Q,ln=on,hn=cn,pn=function(t){return function(e,r,n){var o,i=fn(e),s=hn(i),a=ln(n,s);if(t&&r!=r){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}},dn={includes:pn(!0),indexOf:pn(!1)},mn=Gt,gn=Q,vn=dn.indexOf,yn=mr,bn=A([].push),_n=function(t,e){var r,n=gn(t),o=0,i=[];for(r in n)!mn(yn,r)&&mn(n,r)&&bn(i,r);for(;e.length>o;)mn(n,r=e[o++])&&(~vn(i,r)||bn(i,r));return i},wn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xn=_n,kn=wn.concat("length","prototype");Kr.f=Object.getOwnPropertyNames||function(t){return xn(t,kn)};var Mn={};Mn.f=Object.getOwnPropertySymbols;var On=tt,Pn=Kr,Sn=Mn,En=ze,Cn=A([].concat),jn=On("Reflect","ownKeys")||function(t){var e=Pn.f(En(t)),r=Sn.f;return r?Cn(e,r(t)):e},Ln=Gt,An=jn,Tn=g,In=Ae,Nn=v,Dn=X,Fn=/#|\.prototype\./,zn=function(t,e){var r=qn[Rn(t)];return r==Gn||r!=Zn&&(Dn(e)?Nn(e):!!e)},Rn=zn.normalize=function(t){return String(t).replace(Fn,".").toLowerCase()},qn=zn.data={},Zn=zn.NATIVE="N",Gn=zn.POLYFILL="P",Bn=zn,Vn=m,Un=g.f,Wn=$e,Qn=Ye.exports,Xn=At,Hn=function(t,e,r){for(var n=An(e),o=In.f,i=Tn.f,s=0;s<n.length;s++){var a=n[s];Ln(t,a)||r&&Ln(r,a)||o(t,a,i(e,a))}},Jn=Bn,Kn=function(t,e){var r,n,o,i,s,a=t.target,u=t.global,c=t.stat;if(r=u?Vn:c?Vn[a]||Xn(a,{}):(Vn[a]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(s=Un(r,n))&&s.value:r[n],!Jn(u?n:a+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Hn(i,o)}(t.sham||o&&o.sham)&&Wn(i,"sham",!0),Qn(r,n,i,t)}},$n=kt,Yn=A(A.bind),to=D,eo=Array.isArray||function(t){return"Array"==to(t)},ro={};ro[oe("toStringTag")]="z";var no="[object z]"===String(ro),oo=m,io=no,so=X,ao=D,uo=oe("toStringTag"),co=oo.Object,fo="Arguments"==ao(function(){return arguments}()),lo=io?ao:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=co(t),uo))?r:fo?ao(e):"Object"==(n=ao(e))&&so(e.callee)?"Arguments":n},ho=A,po=v,mo=X,go=lo,vo=sr,yo=function(){},bo=[],_o=tt("Reflect","construct"),wo=/^\s*(?:class|function)\b/,xo=ho(wo.exec),ko=!wo.exec(yo),Mo=function(t){if(!mo(t))return!1;try{return _o(yo,bo,t),!0}catch(t){return!1}},Oo=function(t){if(!mo(t))return!1;switch(go(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ko||!!xo(wo,vo(t))}catch(t){return!0}};Oo.sham=!0;var Po=!_o||po((function(){var t;return Mo(Mo.call)||!Mo(Object)||!Mo((function(){t=!0}))||t}))?Oo:Mo,So=m,Eo=eo,Co=Po,jo=J,Lo=oe("species"),Ao=So.Array,To=function(t){var e;return Eo(t)&&(e=t.constructor,(Co(e)&&(e===Ao||Eo(e.prototype))||jo(e)&&null===(e=e[Lo]))&&(e=void 0)),void 0===e?Ao:e},Io=function(t,e){return new(To(t))(0===e?0:e)},No=function(t,e){return $n(t),void 0===e?t:Yn?Yn(t,e):function(){return t.apply(e,arguments)}},Do=G,Fo=Rt,zo=cn,Ro=Io,qo=A([].push),Zo=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,s=7==t,a=5==t||i;return function(u,c,f,l){for(var h,p,d=Fo(u),m=Do(d),g=No(c,f),v=zo(m),y=0,b=l||Ro,_=e?b(u,v):r||s?b(u,0):void 0;v>y;y++)if((a||y in m)&&(p=g(h=m[y],y,d),t))if(e)_[y]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:qo(_,h)}else switch(t){case 4:return!1;case 7:qo(_,h)}return i?-1:n||o?o:_}},Go={forEach:Zo(0),map:Zo(1),filter:Zo(2),some:Zo(3),every:Zo(4),find:Zo(5),findIndex:Zo(6),filterReject:Zo(7)},Bo=v,Vo=ut,Uo=oe("species"),Wo=function(t){return Vo>=51||!Bo((function(){var e=[];return(e.constructor={})[Uo]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Qo=Go.map;function Xo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}Kn({target:"Array",proto:!0,forced:!Wo("map")},{map:function(t){return Qo(this,t,arguments.length>1?arguments[1]:void 0)}});var Ho=kt,Jo=Rt,Ko=G,$o=cn,Yo=m.TypeError,ti=function(t){return function(e,r,n,o){Ho(r);var i=Jo(e),s=Ko(i),a=$o(i),u=t?a-1:0,c=t?-1:1;if(n<2)for(;;){if(u in s){o=s[u],u+=c;break}if(u+=c,t?u<0:a<=u)throw Yo("Reduce of empty array with no initial value")}for(;t?u>=0:a>u;u+=c)u in s&&(o=r(o,s[u],u,i));return o}},ei={left:ti(!1),right:ti(!0)},ri=v,ni=function(t,e){var r=[][t];return!!r&&ri((function(){r.call(null,e||function(){throw 1},1)}))},oi="process"==D(m.process),ii=ei.left,si=ut,ai=oi;Kn({target:"Array",proto:!0,forced:!ni("reduce")||!ai&&si>79&&si<83},{reduce:function(t){var e=arguments.length;return ii(this,t,e,e>1?arguments[1]:void 0)}});var ui=lo,ci=no?{}.toString:function(){return"[object "+ui(this)+"]"},fi=no,li=Ye.exports,hi=ci;fi||li(Object.prototype,"toString",hi,{unsafe:!0});var pi=Go.filter;Kn({target:"Array",proto:!0,forced:!Wo("filter")},{filter:function(t){return pi(this,t,arguments.length>1?arguments[1]:void 0)}});var di=function(){function t(r){var n=r.markers,o=r.position;e(this,t),this.markers=n,o&&(o instanceof google.maps.LatLng?this._position=o:this._position=new google.maps.LatLng(o))}return n(t,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position)return this.markers.reduce((function(t,e){return t.extend(e.getPosition())}),new google.maps.LatLngBounds(this._position,this._position))}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter((function(t){return t.getVisible()})).length}},{key:"push",value:function(t){this.markers.push(t)}},{key:"delete",value:function(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}]),t}(),mi=function(t,e,r,n){var o=gi(t.getBounds(),e,n);return r.filter((function(t){return o.contains(t.getPosition())}))},gi=function(t,e,r){var n=yi(t,e),o=n.northEast,i=n.southWest,s=bi({northEast:o,southWest:i},r);return _i(s,e)},vi=function(t,e){var r=(e.lat-t.lat)*Math.PI/180,n=(e.lng-t.lng)*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},yi=function(t,e){return{northEast:e.fromLatLngToDivPixel(t.getNorthEast()),southWest:e.fromLatLngToDivPixel(t.getSouthWest())}},bi=function(t,e){var r=t.northEast,n=t.southWest;return r.x+=e,r.y-=e,n.x-=e,n.y+=e,{northEast:r,southWest:n}},_i=function(t,e){var r=t.northEast,n=t.southWest,o=new google.maps.LatLngBounds;return o.extend(e.fromDivPixelToLatLng(r)),o.extend(e.fromDivPixelToLatLng(n)),o},wi=function(){function t(r){var n=r.maxZoom,o=void 0===n?16:n;e(this,t),this.maxZoom=o}return n(t,[{key:"noop",value:function(t){var e=t.markers;return ki(e)}}]),t}(),xi=function(t){o(i,t);var r=u(i);function i(t){var n;e(this,i);var o=t.viewportPadding,s=void 0===o?60:o,a=Xo(t,["viewportPadding"]);return(n=r.call(this,a)).viewportPadding=60,n.viewportPadding=s,n}return n(i,[{key:"calculate",value:function(t){var e=t.markers,r=t.map,n=t.mapCanvasProjection;return r.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e,map:r,mapCanvasProjection:n}),changed:!1}:{clusters:this.cluster({markers:mi(r,n,e,this.viewportPadding),map:r,mapCanvasProjection:n})}}}]),i}(wi),ki=function(t){return t.map((function(t){return new di({position:t.getPosition(),markers:[t]})}))},Mi=_e("span").classList,Oi=Mi&&Mi.constructor&&Mi.constructor.prototype,Pi=Oi===Object.prototype?void 0:Oi,Si=Go.forEach,Ei=m,Ci={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ji=Pi,Li=ni("forEach")?[].forEach:function(t){return Si(this,t,arguments.length>1?arguments[1]:void 0)},Ai=$e,Ti=function(t){if(t&&t.forEach!==Li)try{Ai(t,"forEach",Li)}catch(e){t.forEach=Li}};for(var Ii in Ci)Ci[Ii]&&Ti(Ei[Ii]&&Ei[Ii].prototype);Ti(ji);var Ni=_;Kn({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Ni(URL.prototype.toString,this)}});var Di=function(t){o(i,t);var r=u(i);function i(t){var n;e(this,i);var o=t.maxDistance,s=void 0===o?4e4:o,a=t.gridSize,u=void 0===a?40:a,c=Xo(t,["maxDistance","gridSize"]);return(n=r.call(this,c)).clusters=[],n.maxDistance=s,n.gridSize=u,n}return n(i,[{key:"cluster",value:function(t){var e=this,r=t.markers,n=t.map,o=t.mapCanvasProjection;return this.clusters=[],r.forEach((function(t){e.addToClosestCluster(t,n,o)})),this.clusters}},{key:"addToClosestCluster",value:function(t,e,r){for(var n=this.maxDistance,o=null,i=0;i<this.clusters.length;i++){var s=this.clusters[i],a=vi(s.bounds.getCenter().toJSON(),t.getPosition().toJSON());a<n&&(n=a,o=s)}if(o&&gi(o.bounds,r,this.gridSize).contains(t.getPosition()))o.push(t);else{var u=new di({markers:[t]});this.clusters.push(u)}}}]),i}(xi),Fi=function(t){o(i,t);var r=u(i);function i(t){e(this,i);var n=Xo(t,[]);return r.call(this,n)}return n(i,[{key:"calculate",value:function(t){var e=t.markers,r=t.map,n=t.mapCanvasProjection;return{clusters:this.cluster({markers:e,map:r,mapCanvasProjection:n}),changed:!1}}},{key:"cluster",value:function(t){return this.noop(t)}}]),i}(wi),zi=6371008.8,Ri={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*zi,kilometers:6371.0088,kilometres:6371.0088,meters:zi,metres:zi,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:zi/1852,radians:1,yards:6967335.223679999};function qi(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ui(t[0])||!Ui(t[1]))throw new Error("coordinates must contain numbers");return function(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}({type:"Point",coordinates:t},e,r)}function Zi(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function Gi(t,e){void 0===e&&(e="kilometers");var r=Ri[e];if(!r)throw new Error(e+" units is invalid");return t*r}function Bi(t){return t%360*Math.PI/180}function Vi(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return Gi(function(t,e){void 0===e&&(e="kilometers");var r=Ri[e];if(!r)throw new Error(e+" units is invalid");return t/r}(t,e),r)}function Ui(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function Wi(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Qi(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(r){switch(r){case"type":case"features":return;default:e[r]=t[r]}})),e.features=t.features.map((function(t){return Qi(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Hi(t);default:throw new Error("unknown GeoJSON type")}}function Qi(t){var e={type:"Feature"};return Object.keys(t).forEach((function(r){switch(r){case"type":case"properties":case"geometry":return;default:e[r]=t[r]}})),e.properties=Xi(t.properties),e.geometry=Hi(t.geometry),e}function Xi(t){var e={};return t?(Object.keys(t).forEach((function(r){var n=t[r];"object"==typeof n?null===n?e[r]=null:Array.isArray(n)?e[r]=n.map((function(t){return t})):e[r]=Xi(n):e[r]=n})),e):e}function Hi(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Hi(t)})),e):(e.coordinates=Ji(t.coordinates),e)}function Ji(t){var e=t;return"object"!=typeof e[0]?e.slice():e.map((function(t){return Ji(t)}))}function Ki(t,e,r){if(null!==t)for(var n,o,i,s,a,u,c,f,l=0,h=0,p=t.type,d="FeatureCollection"===p,m="Feature"===p,g=d?t.features.length:1,v=0;v<g;v++){a=(f=!!(c=d?t.features[v].geometry:m?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var y=0;y<a;y++){var b=0,_=0;if(null!==(s=f?c.geometries[y]:c)){u=s.coordinates;var w=s.type;switch(l=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(u,h,v,b,_))return!1;h++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===e(u[n],h,v,b,_))return!1;h++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(o=0;o<u[n].length-l;o++){if(!1===e(u[n][o],h,v,b,_))return!1;h++}"MultiLineString"===w&&b++,"Polygon"===w&&_++}"Polygon"===w&&b++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(_=0,o=0;o<u[n].length;o++){for(i=0;i<u[n][o].length-l;i++){if(!1===e(u[n][o][i],h,v,b,_))return!1;h++}_++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===Ki(s.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function $i(t){var e=[];return Ki(t,(function(t){e.push(t)})),e}var Yi={eudist:function(t,e,r){for(var n=t.length,o=0,i=0;i<n;i++){var s=(t[i]||0)-(e[i]||0);o+=s*s}return r?Math.sqrt(o):o},mandist:function(t,e,r){for(var n=t.length,o=0,i=0;i<n;i++)o+=Math.abs((t[i]||0)-(e[i]||0));return r?Math.sqrt(o):o},dist:function(t,e,r){var n=Math.abs(t-e);return r?n:n*n}},ts=Yi.eudist,es=Yi.dist,rs={kmrand:function(t,e){for(var r={},n=[],o=e<<2,i=t.length,s=t[0].length>0;n.length<e&&o-- >0;){var a=t[Math.floor(Math.random()*i)],u=s?a.join("_"):""+a;r[u]||(r[u]=!0,n.push(a))}if(n.length<e)throw new Error("Error initializating clusters");return n},kmpp:function(t,e){var r=t[0].length?ts:es,n=[],o=t.length,i=t[0].length>0,s=t[Math.floor(Math.random()*o)];i&&s.join("_");for(n.push(s);n.length<e;){for(var a=[],u=n.length,c=0,f=[],l=0;l<o;l++){for(var h=1/0,p=0;p<u;p++){var d=r(t[l],n[p]);d<=h&&(h=d)}a[l]=h}for(var m=0;m<o;m++)c+=a[m];for(var g=0;g<o;g++)f[g]={i:g,v:t[g],pr:a[g]/c,cs:0};f.sort((function(t,e){return t.pr-e.pr})),f[0].cs=f[0].pr;for(var v=1;v<o;v++)f[v].cs=f[v-1].cs+f[v].pr;for(var y=Math.random(),b=0;b<o-1&&f[b++].cs<y;);n.push(f[b-1].v)}return n}},ns=Yi.eudist,os=rs.kmrand,is=rs.kmpp;function ss(t,e,r){r=r||[];for(var n=0;n<t;n++)r[n]=e;return r}var as=function(t,e,r,n){var o=[],i=[],s=[],a=[],u=!1,c=n||1e4,f=t.length,l=t[0].length,h=l>0,p=[];if(r)o="kmrand"==r?os(t,e):"kmpp"==r?is(t,e):r;else for(var d={};o.length<e;){var m=Math.floor(Math.random()*f);d[m]||(d[m]=!0,o.push(t[m]))}do{ss(e,0,p);for(var g=0;g<f;g++){for(var v=1/0,y=0,b=0;b<e;b++){(a=h?ns(t[g],o[b]):Math.abs(t[g]-o[b]))<=v&&(v=a,y=b)}s[g]=y,p[y]++}for(var _=[],w=(i=[],0);w<e;w++)_[w]=h?ss(l,0,_[w]):0,i[w]=o[w];if(h){for(var x=0;x<e;x++)o[x]=[];for(var k=0;k<f;k++)for(var M=_[s[k]],O=t[k],P=0;P<l;P++)M[P]+=O[P];u=!0;for(var S=0;S<e;S++){for(var E=o[S],C=_[S],j=i[S],L=p[S],A=0;A<l;A++)E[A]=C[A]/L||0;if(u)for(var T=0;T<l;T++)if(j[T]!=E[T]){u=!1;break}}}else{for(var I=0;I<f;I++){_[s[I]]+=t[I]}for(var N=0;N<e;N++)o[N]=_[N]/p[N]||0;u=!0;for(var D=0;D<e;D++)if(i[D]!=o[D]){u=!1;break}}u=u||--c<=0}while(!u);return{it:1e4-c,k:e,idxs:s,centroids:o}};var us=function(t){o(i,t);var r=u(i);function i(t){var n;e(this,i);var o=t.numberOfClusters,s=Xo(t,["numberOfClusters"]);return(n=r.call(this,s)).numberOfClusters=o,n}return n(i,[{key:"cluster",value:function(t){var e=t.markers,r=t.map,n=[];return 0===e.length||function(t,e){void 0===e&&(e={});var r=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(r/2)),e.numberOfClusters>r&&(e.numberOfClusters=r),!0!==e.mutate&&(t=Wi(t));var n=$i(t),o=n.slice(0,e.numberOfClusters),i=as(n,e.numberOfClusters,o),s={};return i.centroids.forEach((function(t,e){s[e]=t})),function(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}(t,(function(t,e){var r=i.idxs[e];t.properties.cluster=r,t.properties.centroid=s[r]})),t}(Zi(e.map((function(t){return qi([t.getPosition().lng(),t.getPosition().lat()])}))),{numberOfClusters:this.numberOfClusters instanceof Function?this.numberOfClusters(e.length,r.getZoom()):this.numberOfClusters}).features.forEach((function(t,r){n[t.properties.cluster]||(n[t.properties.cluster]=new di({position:{lng:t.properties.centroid[0],lat:t.properties.centroid[1]},markers:[]})),n[t.properties.cluster].push(e[r])})),n}}]),i}(xi),cs=_n,fs=wn,ls=Object.keys||function(t){return cs(t,fs)},hs=y,ps=A,ds=_,ms=v,gs=ls,vs=Mn,ys=w,bs=Rt,_s=G,ws=Object.assign,xs=Object.defineProperty,ks=ps([].concat),Ms=!ws||ms((function(){if(hs&&1!==ws({b:1},ws(xs({},"a",{enumerable:!0,get:function(){xs(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=ws({},t)[r]||gs(ws({},e)).join("")!=n}))?function(t,e){for(var r=bs(t),n=arguments.length,o=1,i=vs.f,s=ys.f;n>o;)for(var a,u=_s(arguments[o++]),c=i?ks(gs(u),i(u)):gs(u),f=c.length,l=0;f>l;)a=c[l++],hs&&!ds(s,u,a)||(r[a]=u[a]);return r}:ws;function Os(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ps(t,e,r){void 0===r&&(r={});var n=Os(t),o=Os(e),i=Bi(o[1]-n[1]),s=Bi(o[0]-n[0]),a=Bi(n[1]),u=Bi(o[1]),c=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(u);return Gi(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r.units)}Kn({target:"Object",stat:!0,forced:Object.assign!==Ms},{assign:Ms});var Ss={exports:{}},Es={exports:{}};!function(t){function e(t,e,r,n){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,r,n)}e.prototype.run=function(t,e,r,n){this._init(t,e,r,n);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var i=this._regionQuery(o);if(i.length<this.minPts)this.noise.push(o);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(o,s),this._expandCluster(s,i)}}return this.clusters},e.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},e.prototype._expandCluster=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(1!==this._visited[n]){this._visited[n]=1;var o=this._regionQuery(n);o.length>=this.minPts&&(e=this._mergeArrays(e,o))}1!==this._assigned[n]&&this._addToCluster(n,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],r=0;r<this._datasetLength;r++){this.distance(this.dataset[t],this.dataset[r])<this.epsilon&&e.push(r)}return e},e.prototype._mergeArrays=function(t,e){for(var r=e.length,n=0;n<r;n++){var o=e[n];t.indexOf(o)<0&&t.push(o)}return t},e.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=e)}(Es);var Cs={exports:{}};!function(t){function e(t,e,r){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,r)}e.prototype.init=function(t,e,r){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==r&&(this.distance=r)},e.prototype.run=function(t,e){this.init(t,e);for(var r=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var i=0;i<this.k;i++){for(var s=new Array(f),a=0,u=0;u<f;u++)s[u]=0;for(var c=0;c<r;c++){var f=this.dataset[c].length;if(i===this.assignments[c]){for(u=0;u<f;u++)s[u]+=this.dataset[c][u];a++}}if(a>0){for(u=0;u<f;u++)s[u]/=a;this.centroids[i]=s}else this.centroids[i]=this.randomCentroid(),o=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,r=this.dataset.length-1;do{e=Math.round(Math.random()*r),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,r=this.dataset.length,n=0;n<r;n++)(t=this.argmin(this.dataset[n],this.centroids,this.distance))!=this.assignments[n]&&(this.assignments[n]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),r=0;r<this.assignments.length;r++)void 0===e[t=this.assignments[r]]&&(e[t]=[]),e[t].push(r);return e},e.prototype.argmin=function(t,e,r){for(var n,o=Number.MAX_VALUE,i=0,s=e.length,a=0;a<s;a++)(n=r(t,e[a]))<o&&(o=n,i=a);return i},e.prototype.distance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;){var o=t[n]-e[n];r+=o*o}return Math.sqrt(r)},t.exports&&(t.exports=e)}(Cs);var js,Ls={exports:{}},As={exports:{}};!function(t){function e(t,e,r){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,r)}e.prototype.insert=function(t,e){for(var r=this._queue.length,n=r;n--;){var o=this._priorities[n];"desc"===this._sorting?e>o&&(r=n):e<o&&(r=n)}this._insertAt(t,e,r)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,r=this._queue.length;e<r;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,r){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var n=0;n<t.length;n++)this.insert(t[n],e[n])}r&&(this._sorting=r)},e.prototype._insertAt=function(t,e,r){this._queue.length===r?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(r,0,t),this._priorities.splice(r,0,e))},t.exports&&(t.exports=e)}(As),function(t){if(t.exports)var e=As.exports;function r(t,e,r,n){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,r,n)}r.prototype.run=function(t,r,n,o){this._init(t,r,n,o);for(var i=0,s=this.dataset.length;i<s;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var a=this.clusters.length-1;this._orderedList.push(i);var u=new e(null,null,"asc"),c=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,c,u),this._expandCluster(a,u))}return this.clusters},r.prototype.getReachabilityPlot=function(){for(var t=[],e=0,r=this._orderedList.length;e<r;e++){var n=this._orderedList[e],o=this._reachability[n];t.push([n,o])}return t},r.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},r.prototype._updateQueue=function(t,e,r){var n=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===n._processed[e]){var o=n.distance(n.dataset[t],n.dataset[e]),i=Math.max(n._coreDistance,o);void 0===n._reachability[e]?(n._reachability[e]=i,r.insert(e,i)):i<n._reachability[e]&&(n._reachability[e]=i,r.remove(e),r.insert(e,i))}}))},r.prototype._expandCluster=function(t,e){for(var r=e.getElements(),n=0,o=r.length;n<o;n++){var i=r[n];if(void 0===this._processed[i]){var s=this._regionQuery(i);this._processed[i]=1,this.clusters[t].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,s,e),this._expandCluster(t,e))}}},r.prototype._distanceToCore=function(t){for(var e=this.epsilon,r=0;r<e;r++){if(this._regionQuery(t,r).length>=this.minPts)return r}},r.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var r=[],n=0,o=this.dataset.length;n<o;n++)this.distance(this.dataset[t],this.dataset[n])<e&&r.push(n);return r},r.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=r)}(Ls),(js=Ss).exports&&(js.exports={DBSCAN:Es.exports,KMEANS:Cs.exports,OPTICS:Ls.exports,PriorityQueue:As.exports});var Ts=Ss.exports;var Is={units:"kilometers",mutate:!1,minPoints:1},Ns=function(t){o(i,t);var r=u(i);function i(t){var n;e(this,i);var o=t.maxDistance,s=void 0===o?200:o,a=t.minPoints,u=void 0===a?Is.minPoints:a,c=Xo(t,["maxDistance","minPoints"]);return(n=r.call(this,c)).maxDistance=s,n.options=Object.assign(Object.assign({},Is),{minPoints:u}),n}return n(i,[{key:"cluster",value:function(t){var e=t.markers,r=t.mapCanvasProjection,n=Zi(e.map((function(t){var e=r.fromLatLngToContainerPixel(t.getPosition());return qi([e.x,e.y])}))),o=[];return function(t,e,r){void 0===r&&(r={}),!0!==r.mutate&&(t=Wi(t)),r.minPoints=r.minPoints||3;var n=new Ts.DBSCAN,o=n.run($i(t),Vi(e,r.units),r.minPoints,Ps),i=-1;return o.forEach((function(e){i++,e.forEach((function(e){var r=t.features[e];r.properties||(r.properties={}),r.properties.cluster=i,r.properties.dbscan="core"}))})),n.noise.forEach((function(e){var r=t.features[e];r.properties||(r.properties={}),r.properties.cluster?r.properties.dbscan="edge":r.properties.dbscan="noise"})),t}(n,this.maxDistance,this.options).features.forEach((function(t,r){o[t.properties.cluster]||(o[t.properties.cluster]=[]),o[t.properties.cluster].push(e[r])})),o.map((function(t){return new di({markers:t})}))}}]),i}(xi),Ds={exports:{}};!function(t,e){t.exports=function(){function t(r,n,o,i,s,a){if(!(s-i<=o)){var u=i+s>>1;e(r,n,u,i,s,a%2),t(r,n,o,i,u-1,a+1),t(r,n,o,u+1,s,a+1)}}function e(t,n,o,i,s,a){for(;s>i;){if(s-i>600){var u=s-i+1,c=o-i+1,f=Math.log(u),l=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*l*(u-l)/u)*(c-u/2<0?-1:1);e(t,n,o,Math.max(i,Math.floor(o-c*l/u+h)),Math.min(s,Math.floor(o+(u-c)*l/u+h)),a)}var p=n[2*o+a],d=i,m=s;for(r(t,n,i,o),n[2*s+a]>p&&r(t,n,i,s);d<m;){for(r(t,n,d,m),d++,m--;n[2*d+a]<p;)d++;for(;n[2*m+a]>p;)m--}n[2*i+a]===p?r(t,n,i,m):r(t,n,++m,s),m<=o&&(i=m+1),o<=m&&(s=m-1)}}function r(t,e,r,o){n(t,r,o),n(e,2*r,2*o),n(e,2*r+1,2*o+1)}function n(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function o(t,e,r,n,o,i,s){for(var a,u,c=[0,t.length-1,0],f=[];c.length;){var l=c.pop(),h=c.pop(),p=c.pop();if(h-p<=s)for(var d=p;d<=h;d++)a=e[2*d],u=e[2*d+1],a>=r&&a<=o&&u>=n&&u<=i&&f.push(t[d]);else{var m=Math.floor((p+h)/2);a=e[2*m],u=e[2*m+1],a>=r&&a<=o&&u>=n&&u<=i&&f.push(t[m]);var g=(l+1)%2;(0===l?r<=a:n<=u)&&(c.push(p),c.push(m-1),c.push(g)),(0===l?o>=a:i>=u)&&(c.push(m+1),c.push(h),c.push(g))}}return f}function i(t,e,r,n,o,i){for(var a=[0,t.length-1,0],u=[],c=o*o;a.length;){var f=a.pop(),l=a.pop(),h=a.pop();if(l-h<=i)for(var p=h;p<=l;p++)s(e[2*p],e[2*p+1],r,n)<=c&&u.push(t[p]);else{var d=Math.floor((h+l)/2),m=e[2*d],g=e[2*d+1];s(m,g,r,n)<=c&&u.push(t[d]);var v=(f+1)%2;(0===f?r-o<=m:n-o<=g)&&(a.push(h),a.push(d-1),a.push(v)),(0===f?r+o>=m:n+o>=g)&&(a.push(d+1),a.push(l),a.push(v))}}return u}function s(t,e,r,n){var o=t-r,i=e-n;return o*o+i*i}var a=function(t){return t[0]},u=function(t){return t[1]},c=function(e,r,n,o,i){void 0===r&&(r=a),void 0===n&&(n=u),void 0===o&&(o=64),void 0===i&&(i=Float64Array),this.nodeSize=o,this.points=e;for(var s=e.length<65536?Uint16Array:Uint32Array,c=this.ids=new s(e.length),f=this.coords=new i(2*e.length),l=0;l<e.length;l++)c[l]=l,f[2*l]=r(e[l]),f[2*l+1]=n(e[l]);t(c,f,o,0,c.length-1,0)};return c.prototype.range=function(t,e,r,n){return o(this.ids,this.coords,t,e,r,n,this.nodeSize)},c.prototype.within=function(t,e,r){return i(this.ids,this.coords,t,e,r,this.nodeSize)},c}()}(Ds);var Fs=Ds.exports;const zs={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Rs=Math.fround||(qs=new Float32Array(1),t=>(qs[0]=+t,qs[0]));var qs;class Zs{constructor(t){this.options=Hs(Object.create(zs),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:e,minZoom:r,maxZoom:n,nodeSize:o}=this.options;e&&console.time("total time");const i=`prepare ${t.length} points`;e&&console.time(i),this.points=t;let s=[];for(let e=0;e<t.length;e++)t[e].geometry&&s.push(Bs(t[e],e));this.trees[n+1]=new Fs(s,Js,Ks,o,Float32Array),e&&console.timeEnd(i);for(let t=n;t>=r;t--){const r=+Date.now();s=this._cluster(s,t),this.trees[t]=new Fs(s,Js,Ks,o,Float32Array),e&&console.log("z%d: %d clusters in %dms",t,s.length,+Date.now()-r)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let r=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let o=180===t[2]?180:((t[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,o=180;else if(r>o){const t=this.getClusters([r,n,180,i],e),s=this.getClusters([-180,n,o,i],e);return t.concat(s)}const s=this.trees[this._limitZoom(e)],a=s.range(Ws(r),Qs(i),Ws(o),Qs(n)),u=[];for(const t of a){const e=s.points[t];u.push(e.numPoints?Vs(e):this.points[e.index])}return u}getChildren(t){const e=this._getOriginId(t),r=this._getOriginZoom(t),n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);const i=o.points[e];if(!i)throw new Error(n);const s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=o.within(i.x,i.y,s),u=[];for(const e of a){const r=o.points[e];r.parentId===t&&u.push(r.numPoints?Vs(r):this.points[r.index])}if(0===u.length)throw new Error(n);return u}getLeaves(t,e,r){e=e||10,r=r||0;const n=[];return this._appendLeaves(n,t,e,r,0),n}getTile(t,e,r){const n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:i,radius:s}=this.options,a=s/i,u=(r-a)/o,c=(r+1+a)/o,f={features:[]};return this._addTileFeatures(n.range((e-a)/o,u,(e+1+a)/o,c),n.points,e,r,o,f),0===e&&this._addTileFeatures(n.range(1-a/o,u,1,c),n.points,o,r,o,f),e===o-1&&this._addTileFeatures(n.range(0,u,a/o,c),n.points,-1,r,o,f),f.features.length?f:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}_appendLeaves(t,e,r,n,o){const i=this.getChildren(e);for(const e of i){const i=e.properties;if(i&&i.cluster?o+i.point_count<=n?o+=i.point_count:o=this._appendLeaves(t,i.cluster_id,r,n,o):o<n?o++:t.push(e),t.length===r)break}return o}_addTileFeatures(t,e,r,n,o,i){for(const s of t){const t=e[s],a=t.numPoints;let u,c,f;if(a)u=Us(t),c=t.x,f=t.y;else{const e=this.points[t.index];u=e.properties,c=Ws(e.geometry.coordinates[0]),f=Qs(e.geometry.coordinates[1])}const l={type:1,geometry:[[Math.round(this.options.extent*(c*o-r)),Math.round(this.options.extent*(f*o-n))]],tags:u};let h;a?h=t.id:this.options.generateId?h=t.index:this.points[t.index].id&&(h=this.points[t.index].id),void 0!==h&&(l.id=h),i.features.push(l)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))}_cluster(t,e){const r=[],{radius:n,extent:o,reduce:i,minPoints:s}=this.options,a=n/(o*Math.pow(2,e));for(let n=0;n<t.length;n++){const o=t[n];if(o.zoom<=e)continue;o.zoom=e;const u=this.trees[e+1],c=u.within(o.x,o.y,a),f=o.numPoints||1;let l=f;for(const t of c){const r=u.points[t];r.zoom>e&&(l+=r.numPoints||1)}if(l>f&&l>=s){let t=o.x*f,s=o.y*f,a=i&&f>1?this._map(o,!0):null;const h=(n<<5)+(e+1)+this.points.length;for(const r of c){const n=u.points[r];if(n.zoom<=e)continue;n.zoom=e;const c=n.numPoints||1;t+=n.x*c,s+=n.y*c,n.parentId=h,i&&(a||(a=this._map(o,!0)),i(a,this._map(n)))}o.parentId=h,r.push(Gs(t/l,s/l,h,l,a))}else if(r.push(o),l>1)for(const t of c){const n=u.points[t];n.zoom<=e||(n.zoom=e,r.push(n))}}return r}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e){if(t.numPoints)return e?Hs({},t.properties):t.properties;const r=this.points[t.index].properties,n=this.options.map(r);return e&&n===r?Hs({},n):n}}function Gs(t,e,r,n,o){return{x:Rs(t),y:Rs(e),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function Bs(t,e){const[r,n]=t.geometry.coordinates;return{x:Rs(Ws(r)),y:Rs(Qs(n)),zoom:1/0,index:e,parentId:-1}}function Vs(t){return{type:"Feature",id:t.id,properties:Us(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),Xs(t.y)]}};var e}function Us(t){const e=t.numPoints,r=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return Hs(Hs({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:r})}function Ws(t){return t/360+.5}function Qs(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function Xs(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function Hs(t,e){for(const r in e)t[r]=e[r];return t}function Js(t){return t.x}function Ks(t){return t.y}var $s=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(o of e.entries())if(!r.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],r.get(o[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(o of e.entries())if(!r.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(e[o]!==r[o])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!t(e[s],r[s]))return!1}return!0}return e!=e&&r!=r},Ys=function(t){o(i,t);var r=u(i);function i(t){var n;e(this,i);var o=t.maxZoom,s=t.radius,a=void 0===s?60:s,u=Xo(t,["maxZoom","radius"]);return(n=r.call(this,{maxZoom:o})).superCluster=new Zs(Object.assign({maxZoom:n.maxZoom,radius:a},u)),n.state={zoom:null},n}return n(i,[{key:"calculate",value:function(t){var e=!1;if(!$s(t.markers,this.markers)){e=!0,this.markers=f(t.markers);var r=this.markers.map((function(t){return{type:"Feature",geometry:{type:"Point",coordinates:[t.getPosition().lng(),t.getPosition().lat()]},properties:{marker:t}}}));this.superCluster.load(r)}var n={zoom:t.map.getZoom()};return e||this.state.zoom>this.maxZoom&&n.zoom>this.maxZoom||(e=e||!$s(this.state,n)),this.state=n,e&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:e}}},{key:"cluster",value:function(t){var e=t.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}},{key:"transformCluster",value:function(t){var e=c(t.geometry.coordinates,2),r=e[0],n=e[1],o=t.properties;if(o.cluster)return new di({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map((function(t){return t.properties.marker})),position:new google.maps.LatLng({lat:n,lng:r})});var i=o.marker;return new di({markers:[i],position:i.getPosition()})}}]),i}(wi),ta={},ea=y,ra=Te,na=Ae,oa=ze,ia=Q,sa=ls;ta.f=ea&&!ra?Object.defineProperties:function(t,e){oa(t);for(var r,n=ia(e),o=sa(e),i=o.length,s=0;i>s;)na.f(t,r=o[s++],n[r]);return t};var aa,ua=tt("document","documentElement"),ca=ze,fa=ta,la=wn,ha=mr,pa=ua,da=_e,ma=dr("IE_PROTO"),ga=function(){},va=function(t){return"<script>"+t+"</"+"script>"},ya=function(t){t.write(va("")),t.close();var e=t.parentWindow.Object;return t=null,e},ba=function(){try{aa=new ActiveXObject("htmlfile")}catch(t){}var t,e;ba="undefined"!=typeof document?document.domain&&aa?ya(aa):((e=da("iframe")).style.display="none",pa.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(va("document.F=Object")),t.close(),t.F):ya(aa);for(var r=la.length;r--;)delete ba.prototype[la[r]];return ba()};ha[ma]=!0;var _a=Object.create||function(t,e){var r;return null!==t?(ga.prototype=ca(t),r=new ga,ga.prototype=null,r[ma]=t):r=ba(),void 0===e?r:fa.f(r,e)},wa=Ae,xa=oe("unscopables"),ka=Array.prototype;null==ka[xa]&&wa.f(ka,xa,{configurable:!0,value:_a(null)});var Ma=dn.includes,Oa=function(t){ka[xa][t]=!0};Kn({target:"Array",proto:!0},{includes:function(t){return Ma(this,t,arguments.length>1?arguments[1]:void 0)}}),Oa("includes");var Pa=J,Sa=D,Ea=oe("match"),Ca=function(t){var e;return Pa(t)&&(void 0!==(e=t[Ea])?!!e:"RegExp"==Sa(t))},ja=m.TypeError,La=lo,Aa=m.String,Ta=function(t){if("Symbol"===La(t))throw TypeError("Cannot convert a Symbol value to a string");return Aa(t)},Ia=oe("match"),Na=Kn,Da=function(t){if(Ca(t))throw ja("The method doesn't accept regular expressions");return t},Fa=V,za=Ta,Ra=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Ia]=!1,"/./"[t](e)}catch(t){}}return!1},qa=A("".indexOf);Na({target:"String",proto:!0,forced:!Ra("includes")},{includes:function(t){return!!~qa(za(Fa(this)),za(Da(t)),arguments.length>1?arguments[1]:void 0)}});var Za=Kn,Ga=dn.indexOf,Ba=ni,Va=A([].indexOf),Ua=!!Va&&1/Va([1],1,-0)<0,Wa=Ba("indexOf");Za({target:"Array",proto:!0,forced:Ua||!Wa},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Ua?Va(this,t,e)||0:Ga(this,t,e)}});var Qa=ge,Xa=Ae,Ha=S,Ja=Kn,Ka=m,$a=on,Ya=tn,tu=cn,eu=Rt,ru=Io,nu=function(t,e,r){var n=Qa(e);n in t?Xa.f(t,n,Ha(0,r)):t[n]=r},ou=Wo("splice"),iu=Ka.TypeError,su=Math.max,au=Math.min,uu=9007199254740991,cu="Maximum allowed length exceeded";Ja({target:"Array",proto:!0,forced:!ou},{splice:function(t,e){var r,n,o,i,s,a,u=eu(this),c=tu(u),f=$a(t,c),l=arguments.length;if(0===l?r=n=0:1===l?(r=0,n=c-f):(r=l-2,n=au(su(Ya(e),0),c-f)),c+r-n>uu)throw iu(cu);for(o=ru(u,n),i=0;i<n;i++)(s=f+i)in u&&nu(o,i,u[s]);if(o.length=n,r<n){for(i=f;i<c-n;i++)a=i+r,(s=i+n)in u?u[a]=u[s]:delete u[a];for(i=c;i>c-n+r;i--)delete u[i-1]}else if(r>n)for(i=c-n;i>f;i--)a=i+r-1,(s=i+n-1)in u?u[a]=u[s]:delete u[a];for(i=0;i<r;i++)u[i+f]=arguments[i+2];return u.length=c-n+r,o}});var fu=m,lu=X,hu=fu.String,pu=fu.TypeError,du=A,mu=ze,gu=function(t){if("object"==typeof t||lu(t))return t;throw pu("Can't set "+hu(t)+" as a prototype")},vu=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=du(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return mu(r),gu(n),e?t(r,n):r.__proto__=n,r}}():void 0),yu=X,bu=J,_u=vu,wu=A(1..valueOf),xu=V,ku=Ta,Mu=A("".replace),Ou="[\t\n\v\f\r  áââââââââââââ¯âã\u2028\u2029\ufeff]",Pu=RegExp("^"+Ou+Ou+"*"),Su=RegExp(Ou+Ou+"*$"),Eu=function(t){return function(e){var r=ku(xu(e));return 1&t&&(r=Mu(r,Pu,"")),2&t&&(r=Mu(r,Su,"")),r}},Cu={start:Eu(1),end:Eu(2),trim:Eu(3)},ju=y,Lu=m,Au=A,Tu=Bn,Iu=Ye.exports,Nu=Gt,Du=function(t,e,r){var n,o;return _u&&yu(n=e.constructor)&&n!==r&&bu(o=n.prototype)&&o!==r.prototype&&_u(t,o),t},Fu=et,zu=yt,Ru=pe,qu=v,Zu=Kr.f,Gu=g.f,Bu=Ae.f,Vu=wu,Uu=Cu.trim,Wu="Number",Qu=Lu.Number,Xu=Qu.prototype,Hu=Lu.TypeError,Ju=Au("".slice),Ku=Au("".charCodeAt),$u=function(t){var e=Ru(t,"number");return"bigint"==typeof e?e:Yu(e)},Yu=function(t){var e,r,n,o,i,s,a,u,c=Ru(t,"number");if(zu(c))throw Hu("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=Uu(c),43===(e=Ku(c,0))||45===e){if(88===(r=Ku(c,2))||120===r)return NaN}else if(48===e){switch(Ku(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(s=(i=Ju(c,2)).length,a=0;a<s;a++)if((u=Ku(i,a))<48||u>o)return NaN;return parseInt(i,n)}return+c};if(Tu(Wu,!Qu(" 0o1")||!Qu("0b1")||Qu("+0x1"))){for(var tc,ec=function(t){var e=arguments.length<1?0:Qu($u(t)),r=this;return Fu(Xu,r)&&qu((function(){Vu(r)}))?Du(Object(e),r,ec):e},rc=ju?Zu(Qu):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),nc=0;rc.length>nc;nc++)Nu(Qu,tc=rc[nc])&&!Nu(ec,tc)&&Bu(ec,tc,Gu(Qu,tc));ec.prototype=Xu,Xu.constructor=ec,Iu(Lu,Wu,ec)}var oc=n((function t(r,n){e(this,t),this.markers={sum:r.length};var o=n.map((function(t){return t.count})),i=o.reduce((function(t,e){return t+e}),0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min.apply(Math,f(o)),max:Math.max.apply(Math,f(o))}}})),ic=function(){function t(){e(this,t)}return n(t,[{key:"render",value:function(t,e){var r=t.count,n=t.position,o=r>Math.max(10,e.clusters.markers.mean)?"#ff0000":"#0000ff",i=window.btoa('\n  <svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>'));return new google.maps.Marker({position:n,icon:{url:"data:image/svg+xml;base64,".concat(i),scaledSize:new google.maps.Size(45,45)},label:{text:String(r),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:"Cluster of ".concat(r," markers"),zIndex:Number(google.maps.Marker.MAX_ZINDEX)+r})}}]),t}();var sc,ac=n((function t(){e(this,t),function(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]}(t,google.maps.OverlayView)}));t.MarkerClustererEvents=void 0,(sc=t.MarkerClustererEvents||(t.MarkerClustererEvents={})).CLUSTERING_BEGIN="clusteringbegin",sc.CLUSTERING_END="clusteringend",sc.CLUSTER_CLICK="click";var uc=function(t,e,r){r.fitBounds(e.bounds)},cc=function(r){o(s,r);var i=u(s);function s(t){var r,n=t.map,o=t.markers,a=void 0===o?[]:o,u=t.algorithm,c=void 0===u?new Ys({}):u,l=t.renderer,h=void 0===l?new ic:l,p=t.onClusterClick,d=void 0===p?uc:p;return e(this,s),(r=i.call(this)).markers=f(a),r.clusters=[],r.algorithm=c,r.renderer=h,r.onClusterClick=d,n&&r.setMap(n),r}return n(s,[{key:"addMarker",value:function(t,e){this.markers.includes(t)||(this.markers.push(t),e||this.render())}},{key:"addMarkers",value:function(t,e){var r=this;t.forEach((function(t){r.addMarker(t,!0)})),e||this.render()}},{key:"removeMarker",value:function(t,e){var r=this.markers.indexOf(t);return-1!==r&&(t.setMap(null),this.markers.splice(r,1),e||this.render(),!0)}},{key:"removeMarkers",value:function(t,e){var r=this,n=!1;return t.forEach((function(t){n=r.removeMarker(t,!0)||n})),n&&!e&&this.render(),n}},{key:"clearMarkers",value:function(t){this.markers.length=0,t||this.render()}},{key:"render",value:function(){var e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,t.MarkerClustererEvents.CLUSTERING_BEGIN,this);var r=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()}),n=r.clusters,o=r.changed;(o||null==o)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,t.MarkerClustererEvents.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach((function(t){return t.setMap(null)})),this.clusters.forEach((function(t){return t.delete()})),this.clusters=[]}},{key:"renderClusters",value:function(){var e=this,r=new oc(this.markers,this.clusters),n=this.getMap();this.clusters.forEach((function(o){1===o.markers.length?o.marker=o.markers[0]:(o.marker=e.renderer.render(o,r),e.onClusterClick&&o.marker.addListener("click",(function(r){google.maps.event.trigger(e,t.MarkerClustererEvents.CLUSTER_CLICK,o),e.onClusterClick(r,o,n)}))),o.marker.setMap(n)}))}}]),s}(ac);return t.AbstractAlgorithm=wi,t.AbstractViewportAlgorithm=xi,t.Cluster=di,t.ClusterStats=oc,t.DBScanAlgorithm=Ns,t.DefaultRenderer=ic,t.GridAlgorithm=Di,t.KmeansAlgorithm=us,t.MarkerClusterer=cc,t.NoopAlgorithm=Fi,t.SuperClusterAlgorithm=Ys,t.defaultOnClusterClickHandler=uc,t.distanceBetweenPoints=vi,t.extendBoundsToPaddedViewport=gi,t.extendPixelBounds=bi,t.filterMarkersToPaddedViewport=mi,t.noop=ki,t.pixelBoundsToLatLngBounds=_i,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=index.min.js.map